# Project Brief: Gym Management System

## The Idea

An admin tool for gym owners to manage their business, gym locations, and members. This is a v1 prototype focused on core functionality with a clean onboarding flow for new organizations.

## Target Users

**Primary:** Gym owners and administrative staff who need to:
- Set up their business in the system
- Manage multiple gym locations
- Track members across locations
- Generate QR codes for member check-ins

**Not in scope for v1:** Gym members themselves (no member-facing portal)

## Core Features (Version 1)

1. **Onboarding Flow** - New user sign-up → Create organization → Add first gym location
   - Essential for first-time setup experience
   - Multi-step wizard guides users through initial configuration

2. **Gym Management** - CRUD operations for gym locations
   - Add/edit gym locations under an organization
   - Store name, address, contact info, opening hours, facilities
   - Toggle active/inactive status

3. **Member Management** - Add/edit members with QR codes
   - Create members with personal and emergency contact info
   - Assign members to primary gym
   - Auto-generate unique QR codes for check-in
   - View/print/download QR codes

4. **Multi-tenancy** - Organization → Gyms → Members hierarchy
   - Complete data isolation between organizations
   - All queries filtered by organization_id

## Future Features (Later Versions)

- **v2:** Class scheduling, timetables, member bookings, waitlists
- **v3:** Personal trainer management, PT packages, session booking
- **v4:** Payment processing, subscription plans, Stripe integration
- **v5:** Member-facing portal, mobile app

## Technical Decisions

### Platform: Next.js 15 (App Router)
**Rationale:** Modern React framework with SSR, API routes, and excellent DX. App Router provides a clean file-based routing structure.

### Authentication: Better Auth
**Rationale:** Modern auth library with email + Google OAuth support, session management, and easy integration with Next.js.

### Database: SQLite + Drizzle ORM
**Rationale:** Quick prototyping with minimal setup. SQLite file-based database is perfect for v1 prototype. Drizzle provides type-safe queries and easy migration to PostgreSQL later.

### Styling: Tailwind CSS + shadcn/ui
**Rationale:** Rapid UI development with consistent design system. shadcn/ui provides accessible, customizable components.

### QR Codes: qrcode library
**Rationale:** Simple library for generating unique member QR codes that encode org/member/unique identifiers.

### Key Libraries
- `next` - Framework
- `better-auth` - Authentication
- `drizzle-orm` + `better-sqlite3` - Database
- `tailwindcss` - Styling
- `@shadcn/ui` - Component library
- `qrcode` - QR code generation

## Data Requirements

### Entity Relationships
```
Organization (tenant)
    │
    ├── Users (staff accounts)
    │
    └── Gyms (locations)
            │
            └── Members
```

### Core Tables
- **organizations** - Business/tenant (id, name, slug, timestamps)
- **users** - Staff accounts (id, email, name, org_id, role, timestamps)
- **gyms** - Locations (id, org_id, name, address, phone, email, hours, facilities, is_active, timestamps)
- **members** - Gym members (id, org_id, gym_id, name, email, phone, emergency_contact, qr_code, membership_dates, is_active, timestamps)
- **check_ins** - Optional for v1 (id, member_id, gym_id, timestamp)

## UI/UX Notes

- Clean, professional admin interface
- Multi-step onboarding wizard
- Dashboard with quick stats overview
- Data tables with search/filter/sort
- Forms with validation
- QR code display with print/download options
- Responsive design for desktop (admin focus)

## Integrations

None required for v1. Future versions will add:
- Stripe for payments
- Email service for notifications
- Calendar integration for scheduling

## Out of Scope

Explicitly NOT building in v1:
- Member-facing portal or app
- Class scheduling and bookings
- Personal trainer management
- Payment processing
- Subscription management
- Mobile app
- Real-time features
- Analytics/reporting

## Open Questions

- QR code scanning implementation (check_ins table included but scanning UI deferred)
- Opening hours data structure (JSON vs separate table)
- Facilities list (predefined options vs free-form)

---

*Generated by Squared Agent for the Gym Management System v1 prototype.*
